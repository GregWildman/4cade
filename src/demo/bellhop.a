;license:MIT
;(c) 2022 by qkumba

!cpu 6502
!to "res/DEMO/BELLHOP",plain
*=$300

         !source "src/constants.a"   ; no code in these
         !source "src/macros.a"

         +ENABLE_ACCEL
         +LOAD_XSINGLE title
         lda   #$60
         sta   $0813
         jsr   $0800      ; decompress
         lda   #$4C
         sta   $602F
         sta   $6BD4
         sta   $66D2
         ldx   #0
         stx   $6030
         stx   $6BD5
         inx
         stx   $6031
         stx   $6BD6
         stx   $66D4
         lda   #$EE
         sta   $66CA
         lda   #<counter
         sta   $66CB
         lda   #>counter
         sta   $66CC
         +DISABLE_ACCEL
         jmp   $6000

counter  !byte $FD

title    !byte x_e-x_b
x_b      !text "BELLHOP"
x_e

!if * > $3F0 {
  !error "code is too large, ends at ", *
}
